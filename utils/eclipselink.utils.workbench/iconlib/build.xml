<!--/*******************************************************************************
* This program and the accompanying materials are made available under the terms of
* the Eclipse Public License v1.0, which accompanies this distribution and is available at
* http://www.eclipse.org/legal/epl-v10.html.
*
* Contributors:
*     Oracle - initial API and implementation
#******************************************************************************/-->

<project name="Build Icon Library" default="build.all" basedir=".">
    <!-- =================================================================== -->
    <target name="init">
        <tstamp>
            <format property="BldDate" pattern="yyMMdd"/>
            <format property="BldTime" pattern="HHmm"/>
        </tstamp>
        <property environment="env"/>

        <property name="_stop_on_err" value="false"/>
        <property name="_optimize"    value="off"/>
        <property name="_deprecation" value="off"/>
        <property name="_debug"       value="off"/>
        <property name="_targetjvm"   value="1.5"/>
        <echo message="BldDate.BldTime='${BldDate}.${BldTime}'"/>
        <echo message="java.version='${java.version}'"/>
        <echo message="os.name='${os.name}'"/>
        <echo message="os.arch='${os.arch}'"/>
        <echo message="os.version='${os.version}'"/>
        <echo message="_stop_on_err='${_stop_on_err}'"/>
        <echo message="_optimize='${_optimize}'"/>
        <echo message="_deprecation='${_deprecation}'"/>
        <echo message="_targetjvm='${_targetjvm}'"/>
    </target>
    <!-- =================================================================== -->
    <!-- =================================================================== -->

    <target name="build.all" depends="jar.iconlib"/>

    <!-- =================================================================== -->
    <!--  Properties                                                         -->
    <!-- =================================================================== -->
    <target name="_properties.init" depends="init">
        <property file="build.properties"/>
        <mkdir dir="${_jarDestDir}"/>
    </target>

    <!-- =================================================================== -->
    <!--  Clean                                                              -->
    <!-- =================================================================== -->
    <target name="clean" depends="init">
        <property file="build.properties"/>

        <delete file="${_jarDestDir}/${iconlib.jarfile}" quiet="true"/>
    </target>

    <!-- =================================================================== -->
    <!--  Jar                                                                -->
    <!-- =================================================================== -->
    <target name="jar.iconlib" depends="_properties.init">
        <delete file="${_jarDestDir}/${iconlib.jarfile}"/>
        <jar jarfile="${_jarDestDir}/${iconlib.jarfile}" compress="false">
            <manifest>
                <attribute name="Specification-Title" value="${_productName}" />
                <attribute name="Specification-Vendor" value="Eclipse Project" />
                <attribute name="Specification-Version" value="${_VersionStamp}" />
                <attribute name="Implementation-Title" value="org.eclipse.persistence.workbench.iconlib" />
                <attribute name="Implementation-Version" value="${_VersionStamp}.${_buildNumber}" />
                <attribute name="Implementation-Vendor" value="Eclipse Project" />
                <attribute name="Release-Designation" value="${_releaseVersion}" />
            </manifest>
            <fileset
                dir="${compile.iconlib.resources}"
                includes="**"
                excludes="**/.ade_path/**"
            />
        </jar>
    </target>

</project>
